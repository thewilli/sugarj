
module jasmin/lexical/JasminXT-Descriptors
imports jasmin/lexical/JasminXT-Names

exports
  context-free syntax
    FieldType  -> FieldDescriptor     {cons("DJ_JBCFieldDesc")}
    FieldType  -> ParameterDescriptor 
    FieldType  -> ReturnDescriptor    
    "V"        -> ReturnDescriptor    {cons("DJ_Void")}
    BaseType   -> FieldType           
    ObjectType -> FieldType           
    ArrayType  -> FieldType           
    "B"        -> BaseType            {cons("DJ_Byte")}
    "C"        -> BaseType            {cons("DJ_Char")}
    "D"        -> BaseType            {cons("DJ_Double")}
    "F"        -> BaseType            {cons("DJ_Float")}
    "I"        -> BaseType            {cons("DJ_Int")}
    "J"        -> BaseType            {cons("DJ_Long")}
    "S"        -> BaseType            {cons("DJ_Short")}
    "Z"        -> BaseType            {cons("DJ_Boolean")}
    FieldType  -> ComponentType       

  syntax
    "(" <ParameterDescriptor-CF>* ")" <ReturnDescriptor-CF> -> <MethodDescriptor-CF> {cons("DJ_JBCMethodDesc")}
    "L" <ClassRef-CF> ";"                                   -> <ObjectType-CF>       {cons("DJ_Reference")}
    "[" <ComponentType-CF>                                  -> <ArrayType-CF>        {cons("DJ_Array")}
